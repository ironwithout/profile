---
import PageSection from '../../components/PageSection.astro';
import TechSection from '../../components/TechSection.astro';
import TechText from '../../components/TechText.astro';
import ExperienceCard from '../../components/ExperienceCard.astro';
import { experiences } from '../../data/experiences';

interface Props {
  sectionIndex: number;
}

const { sectionIndex } = Astro.props;
---

<PageSection sectionIndex={sectionIndex}>
  <TechSection>
    <TechText variant="h2">
      Career
    </TechText>
    <div class="mt-6 relative">
      <div class="absolute left-1/2 top-0 bottom-0 w-0.5 bg-tech-border transform -translate-x-1/2"></div>
      {experiences.map((exp, index) => (
        <div class={`relative mb-12 flex ${index % 2 === 0 ? 'justify-end' : 'justify-start'}`}>
          <div class={`w-full md:w-5/12 ${index % 2 === 0 ? 'md:pr-8' : 'md:pl-8'}`}>
            <ExperienceCard 
              {...exp}
              index={index}
            />
          </div>
        </div>
      ))}
    </div>
  </TechSection>
</PageSection>
