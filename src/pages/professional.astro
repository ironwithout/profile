---
import Layout from '../layouts/Layout.astro';
import ExperienceCard from '../components/ExperienceCard.astro';
import TerminalSection from '../components/TerminalSection.astro';
import TerminalText from '../components/TerminalText.astro';
import TechTag from '../components/TechTag.astro';

const experiences = [
  {
    company: "TechCorp",
    role: "Senior Full-Stack Developer",
    period: "2022 → Present",
    location: "Remote",
    status: "current" as const,
    description: "Leading development of scalable web applications and architecting cloud infrastructure",
    achievements: [
      "Architected microservices platform serving 100K+ daily active users",
      "Reduced API response time by 60% through caching and optimization",
      "Led cross-functional team of 5 engineers delivering major features on schedule",
    ],
    technologies: ["React", "TypeScript", "Node.js", "PostgreSQL", "AWS", "Docker"],
  },
  {
    company: "Digital Studio",
    role: "Full-Stack Developer",
    period: "2020 → 2022",
    location: "Hybrid",
    status: "completed" as const,
    description: "Built custom solutions for clients ranging from early-stage startups to enterprises",
    achievements: [
      "Developed real-time analytics dashboard processing 1M+ daily events",
      "Implemented CI/CD pipeline cutting deployment time from 2hrs to 10min",
      "Collaborated with design team on award-winning product interfaces",
    ],
    technologies: ["Vue.js", "Python", "Django", "Redis", "MongoDB", "GCP"],
  },
  {
    company: "StartupCo",
    role: "Software Engineer",
    period: "2018 → 2020",
    location: "On-site",
    status: "completed" as const,
    description: "Core team member building MVP and early product iterations in fast-paced environment",
    achievements: [
      "Built MVP that secured $2M seed funding from tier-1 VCs",
      "Created authentication gateway handling 10+ microservices",
      "Established testing practices achieving 85% code coverage",
    ],
    technologies: ["JavaScript", "Express", "MySQL", "Kubernetes", "Jenkins"],
  },
];

const skills = [
  { category: "Frontend", items: ["React", "TypeScript", "Next.js", "Tailwind"] },
  { category: "Backend", items: ["Node.js", "Python", "PostgreSQL", "Redis"] },
  { category: "Cloud", items: ["AWS", "Docker", "Kubernetes", "Terraform"] },
  { category: "Tools", items: ["Git", "CI/CD", "Monitoring", "Testing"] },
];
---

<Layout title="Professional Experience" description="Career history and technical background">
  <div class="min-h-screen bg-terminal-bg text-text-secondary">
    <div class="container mx-auto px-4 py-12 max-w-5xl">
      
      <!-- Page header -->
      <div class="mb-12 font-mono">
        <div class="text-text-dim text-sm mb-2 uppercase tracking-wider">Experience</div>
        <h1 class="text-4xl text-text-primary mb-4 font-semibold">
          Professional History
        </h1>
        <div class="text-text-muted text-sm">
          <span class="text-accent-primary font-semibold">{experiences.length}</span> positions
        </div>
      </div>

      <!-- Experience list -->
      <div class="mb-16">
        {experiences.map((experience, index) => (
          <ExperienceCard {...experience} index={index} defaultExpanded={index === 0} />
        ))}
      </div>

      <!-- Skills grid -->
      <div class="border-t-2 border-terminal-border pt-12 font-mono text-sm">
        <TerminalSection title="Skills & Technologies" bulletType="secondary">
          <div class="terminal-indent grid grid-cols-1 md:grid-cols-2 gap-8">
            {skills.map(({ category, items }) => (
              <div>
                <TerminalText variant="h3">{category}:</TerminalText>
                <div class="flex flex-wrap gap-2">
                  {items.map(item => (
                    <TechTag variant="muted">{item}</TechTag>
                  ))}
                </div>
              </div>
            ))}
          </div>
        </TerminalSection>
      </div>

      <!-- Footer -->
      <div class="mt-16 pt-8 border-t border-terminal-border font-mono text-xs text-text-dim">
        <div class="flex items-center gap-2">
          <span>●</span>
          <span>Updated regularly</span>
        </div>
      </div>

    </div>
  </div>
</Layout>
