---
import Layout from '../layouts/Layout.astro';
import TechSection from '../components/TechSection.astro';
import TechText from '../components/TechText.astro';
import ExperienceCard from '../components/ExperienceCard.astro';
import ProjectCard from '../components/ProjectCard.astro';

const experiences = [
  {
    company: "TechCorp",
    role: "Senior Full-Stack Developer",
    period: "2022 → Present",
    location: "Remote",
    status: "current" as const,
    description: "Leading development of scalable web applications and architecting cloud infrastructure",
    achievements: [
      "Architected microservices platform serving 100K+ daily active users",
      "Reduced API response time by 60% through caching and optimization",
      "Led cross-functional team of 5 engineers delivering major features on schedule",
    ],
    technologies: ["React", "TypeScript", "Node.js", "PostgreSQL", "AWS", "Docker"],
  },
  {
    company: "Digital Studio",
    role: "Full-Stack Developer",
    period: "2020 → 2022",
    location: "Hybrid",
    status: "completed" as const,
    description: "Built custom solutions for clients ranging from early-stage startups to enterprises",
    achievements: [
      "Developed real-time analytics dashboard processing 1M+ daily events",
      "Implemented CI/CD pipeline cutting deployment time from 2hrs to 10min",
      "Collaborated with design team on award-winning product interfaces",
    ],
    technologies: ["Vue.js", "Python", "Django", "Redis", "MongoDB", "GCP"],
  },
  {
    company: "StartupCo",
    role: "Software Engineer",
    period: "2018 → 2020",
    location: "On-site",
    status: "completed" as const,
    description: "Core team member building MVP and early product iterations in fast-paced environment",
    achievements: [
      "Built MVP that secured $2M seed funding from tier-1 VCs",
      "Created authentication gateway handling 10+ microservices",
      "Established testing practices achieving 85% code coverage",
    ],
    technologies: ["JavaScript", "Express", "MySQL", "Kubernetes", "Jenkins"],
  },
];

const projects = [
  {
    title: "Weather App",
    description: "Beautiful weather application with 7-day forecasts and location-based alerts.",
    technologies: ["Astro", "Tailwind", "OpenWeather API"],
    link: "https://example.com",
    github: "https://github.com/yourusername/weather-app",
  },
  {
    title: "Markdown Blog",
    description: "Static site generator for blogs with markdown support and SEO optimization.",
    technologies: ["Astro", "TypeScript", "MDX"],
    github: "https://github.com/yourusername/blog",
  },
  {
    title: "Task Manager",
    description: "Minimalist task management app with drag-and-drop and local storage.",
    technologies: ["React", "IndexedDB", "CSS"],
    link: "https://example.com",
    github: "https://github.com/yourusername/task-manager",
  },
];
---

<Layout title="Miguel Sánchez - Professional Profile">
  <div class="snap-y snap-mandatory overflow-y-scroll h-screen bg-tech-bg">
    
    <!-- Introduction Section -->
    <section class="snap-start min-h-screen flex items-center relative">
      <!-- Blog Button -->
      <a 
        href="/blog"
        class="absolute top-6 right-6 px-4 py-2 border-2 rounded transition-all uppercase tracking-wide text-sm font-medium font-mono border-tech-border text-text-muted hover:border-accent-secondary hover:text-accent-secondary z-10"
      >
        Blog
      </a>
      
      <div class="container mx-auto px-4 py-12 max-w-5xl">
        <TechSection>
          <TechText variant="h1">
            Miguel Sánchez
          </TechText>
          <div class="space-y-2">
            <TechText variant="body" class="max-w-3xl">
              Presentation and profile description (ca 100w)
            </TechText>
          </div>
        </TechSection>
      </div>
    </section>

    <!-- Career Section -->
    <section class="snap-start min-h-screen flex items-center">
      <div class="container mx-auto px-4 py-12 max-w-5xl">
        <TechSection>
          <TechText variant="h2">
            Career
          </TechText>
          <div class="mt-6 relative">
            <div class="absolute left-1/2 top-0 bottom-0 w-0.5 bg-tech-border transform -translate-x-1/2"></div>
            
            {experiences.map((exp, index) => (
              <div class={`relative mb-12 flex ${index % 2 === 0 ? 'justify-end' : 'justify-start'}`}>
                <div class={`w-full md:w-5/12 ${index % 2 === 0 ? 'md:pr-8' : 'md:pl-8'}`}>
                  <ExperienceCard 
                    {...exp}
                    index={index}
                  />
                </div>
              </div>
            ))}
          </div>
        </TechSection>
      </div>
    </section>

    <!-- Skills & Technologies Section -->
    <section class="snap-start min-h-screen flex items-center">
      <div class="container mx-auto px-4 py-12 max-w-5xl">
        <TechSection>
          <TechText variant="h2">
            Skills & Technologies
          </TechText>
          <div class="mt-8 space-y-8">
            <!-- Frontend -->
            <div>
              <TechText variant="h3" class="mb-4">
                Frontend
              </TechText>
              <div class="flex flex-wrap gap-3">
                {["React", "TypeScript", "Vue.js", "Astro", "Tailwind CSS", "Next.js"].map(tech => (
                  <span class="px-4 py-2 bg-tech-card border border-tech-border rounded-lg text-tech-text-primary hover:border-tech-accent transition-colors">
                    {tech}
                  </span>
                ))}
              </div>
            </div>
            
            <!-- Backend -->
            <div>
              <TechText variant="h3" class="mb-4">
                Backend
              </TechText>
              <div class="flex flex-wrap gap-3">
                {["Node.js", "Python", "Django", "Express", "PostgreSQL", "MongoDB", "Redis"].map(tech => (
                  <span class="px-4 py-2 bg-tech-card border border-tech-border rounded-lg text-tech-text-primary hover:border-tech-accent transition-colors">
                    {tech}
                  </span>
                ))}
              </div>
            </div>
            
            <!-- DevOps & Cloud -->
            <div>
              <TechText variant="h3" class="mb-4">
                DevOps & Cloud
              </TechText>
              <div class="flex flex-wrap gap-3">
                {["AWS", "GCP", "Docker", "Kubernetes", "Jenkins", "CI/CD"].map(tech => (
                  <span class="px-4 py-2 bg-tech-card border border-tech-border rounded-lg text-tech-text-primary hover:border-tech-accent transition-colors">
                    {tech}
                  </span>
                ))}
              </div>
            </div>
          </div>
        </TechSection>
      </div>
    </section>

    <!-- Projects Section -->
    <section class="snap-start min-h-screen flex flex-col justify-between">
      <div class="container mx-auto px-4 py-12 max-w-5xl flex-grow flex items-center">
        <TechSection>
        <TechText variant="h2">
          Projects
        </TechText>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
          {projects.map(project => (
            <ProjectCard {...project} />
          ))}
        </div>
      </TechSection>
      </div>
      
      <!-- Footer -->
      <div class="pb-8 text-center text-text-dim text-sm font-mono">
        <p><span class="text-accent-primary">●</span> &copy; {new Date().getFullYear()} Miguel Sánchez</p>
      </div>
    </section>
  </div>
</Layout>
